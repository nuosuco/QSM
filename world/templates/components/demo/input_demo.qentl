# é‡å­è¾“å…¥ç»„ä»¶æ¼”ç¤º
# é‡å­åŸºå› : QG-DEMO-INPUT-A1B1
# é‡å­çº ç¼ : QE-DEMO-INPUT-20240406

@component q-input-demo
@props
  demoTitle: string = "é‡å­è¾“å…¥ç»„ä»¶æ¼”ç¤º"

@template
<div class="q-demo-container" 
     data-quantum-entangle='{
       "id": "input-demo-container",
       "strength": 0.9,
       "sync": true
     }'
>
    <h1 class="q-demo-title">${demoTitle}</h1>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">åŸºæœ¬ç”¨æ³•</h2>
        <div class="q-demo-box">
            <q-input 
                placeholder="è¯·è¾“å…¥æ–‡æœ¬" 
                @input="handleBasicInput" 
                value="${basicValue}" 
            />
            <div class="q-demo-value">è¾“å…¥å€¼: ${basicValue}</div>
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">ä¸åŒå°ºå¯¸</h2>
        <div class="q-demo-box q-demo-size-box">
            <q-input 
                placeholder="å°å°ºå¯¸" 
                size="small" 
            />
            <q-input 
                placeholder="ä¸­ç­‰å°ºå¯¸" 
                size="medium" 
            />
            <q-input 
                placeholder="å¤§å°ºå¯¸" 
                size="large" 
            />
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">ä¸åŒçŠ¶æ€</h2>
        <div class="q-demo-box q-demo-status-box">
            <q-input 
                placeholder="æ­£å¸¸çŠ¶æ€" 
            />
            <q-input 
                placeholder="æˆåŠŸçŠ¶æ€" 
                status="success" 
                value="æˆåŠŸè¾“å…¥" 
            />
            <q-input 
                placeholder="é”™è¯¯çŠ¶æ€" 
                status="error" 
                value="é”™è¯¯è¾“å…¥" 
            />
            <q-input 
                placeholder="è­¦å‘ŠçŠ¶æ€" 
                status="warning" 
                value="è­¦å‘Šè¾“å…¥" 
            />
            <q-input 
                placeholder="ç¦ç”¨çŠ¶æ€" 
                disabled 
                value="ç¦ç”¨è¾“å…¥" 
            />
            <q-input 
                placeholder="åªè¯»çŠ¶æ€" 
                readonly 
                value="åªè¯»è¾“å…¥" 
            />
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">å‰ç¼€å’Œåç¼€</h2>
        <div class="q-demo-box">
            <q-input 
                placeholder="å¸¦å‰ç¼€çš„è¾“å…¥æ¡†" 
                prefix="ğŸ“" 
            />
            <q-input 
                placeholder="å¸¦åç¼€çš„è¾“å…¥æ¡†" 
                suffix="âœï¸" 
            />
            <q-input 
                placeholder="åŒæ—¶å¸¦å‰ç¼€å’Œåç¼€" 
                prefix="ğŸ”" 
                suffix="ğŸ”" 
            />
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">å¯æ¸…é™¤å†…å®¹</h2>
        <div class="q-demo-box">
            <q-input 
                placeholder="è¾“å…¥åå¯æ¸…é™¤" 
                clearable 
                value="${clearableValue}" 
                @input="handleClearableInput" 
                @clear="handleClear" 
            />
            <div class="q-demo-value">è¾“å…¥å€¼: ${clearableValue}</div>
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">å¯†ç è¾“å…¥æ¡†</h2>
        <div class="q-demo-box">
            <q-input 
                type="password" 
                placeholder="è¯·è¾“å…¥å¯†ç " 
                showPasswordToggle 
            />
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">ä¸åŒé‡å­çŠ¶æ€</h2>
        <div class="q-demo-box q-demo-quantum-box">
            <q-input 
                placeholder="å åŠ æ€" 
                quantumState="superposition" 
            />
            <q-input 
                placeholder="çº ç¼ æ€" 
                quantumState="entangled" 
            />
            <q-input 
                placeholder="èšç„¦æ€" 
                quantumState="focused" 
            />
        </div>
    </section>
    
    <section class="q-demo-section">
        <h2 class="q-demo-section-title">é‡å­çº ç¼ æ¼”ç¤º</h2>
        <div class="q-demo-box q-demo-entangle-box">
            <div class="q-demo-entangle-inputs">
                <q-input 
                    placeholder="è¾“å…¥æ¡† A" 
                    value="${entangledValueA}" 
                    @input="handleEntangledInputA" 
                    entangleStrength="0.95" 
                    quantumState="entangled" 
                />
                <div class="q-demo-entangle-connection">âŸ·</div>
                <q-input 
                    placeholder="è¾“å…¥æ¡† B" 
                    value="${entangledValueB}" 
                    @input="handleEntangledInputB" 
                    entangleStrength="0.95" 
                    quantumState="entangled" 
                />
            </div>
            <div class="q-demo-note">
                è¿™ä¸¤ä¸ªè¾“å…¥æ¡†é€šè¿‡é‡å­çº ç¼ è¿æ¥ï¼Œåœ¨ä¸€ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ä¼šå½±å“å¦ä¸€ä¸ªè¾“å…¥æ¡†
            </div>
        </div>
    </section>
</div>

@style
.q-demo-container {
    padding: var(--q-spacing-6);
    max-width: 800px;
    margin: 0 auto;
    font-family: var(--q-font-sans);
}

.q-demo-title {
    margin-bottom: var(--q-spacing-6);
    color: var(--q-primary);
    font-size: 1.75rem;
    font-weight: 600;
    text-align: center;
}

.q-demo-section {
    margin-bottom: var(--q-spacing-8);
    padding: var(--q-spacing-4);
    border: 1px solid var(--q-gray-200);
    border-radius: var(--q-radius-lg);
    background-color: var(--q-white);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.q-demo-section-title {
    margin-bottom: var(--q-spacing-4);
    color: var(--q-gray-800);
    font-size: 1.25rem;
    font-weight: 500;
}

.q-demo-box {
    display: flex;
    flex-direction: column;
    gap: var(--q-spacing-4);
}

.q-demo-value {
    padding: var(--q-spacing-2) var(--q-spacing-4);
    border-radius: var(--q-radius-md);
    background-color: var(--q-gray-100);
    color: var(--q-gray-700);
    font-size: 0.875rem;
}

.q-demo-size-box,
.q-demo-status-box,
.q-demo-quantum-box {
    display: flex;
    flex-direction: column;
    gap: var(--q-spacing-4);
}

.q-demo-entangle-box {
    position: relative;
}

.q-demo-entangle-inputs {
    display: flex;
    align-items: center;
    gap: var(--q-spacing-4);
}

.q-demo-entangle-connection {
    font-size: 1.5rem;
    color: var(--q-primary);
    animation: pulse 2s infinite;
}

.q-demo-note {
    margin-top: var(--q-spacing-4);
    padding: var(--q-spacing-2) var(--q-spacing-4);
    border-radius: var(--q-radius-md);
    background-color: var(--q-gray-100);
    color: var(--q-gray-700);
    font-size: 0.875rem;
    font-style: italic;
}

@keyframes pulse {
    0% {
        opacity: 0.5;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.5;
    }
}

@script
export default {
    data() {
        return {
            basicValue: '',
            clearableValue: 'å¯æ¸…é™¤çš„å†…å®¹',
            entangledValueA: '',
            entangledValueB: ''
        };
    },
    
    mounted() {
        // åˆå§‹åŒ–é‡å­çº ç¼ 
        window.quantumEntangle.addObject('input-demo-container');
        
        // æ·»åŠ é‡å­çº ç¼ ç›‘å¬å™¨
        window.quantumEntangle.on('input_change', (data) => {
            if (data.id.includes('entangled')) {
                // å¤„ç†çº ç¼ è¾“å…¥
                if (data.value !== this.entangledValueA && data.value !== this.entangledValueB) {
                    if (Math.random() > 0.5) {
                        this.entangledValueA = data.value;
                    } else {
                        this.entangledValueB = data.value;
                    }
                }
            }
        });
    },
    
    methods: {
        handleBasicInput(value) {
            this.basicValue = value;
        },
        
        handleClearableInput(value) {
            this.clearableValue = value;
        },
        
        handleClear() {
            this.clearableValue = '';
        },
        
        handleEntangledInputA(value) {
            this.entangledValueA = value;
            
            // æ ¹æ®é‡å­çº ç¼ å¼ºåº¦å†³å®šæ˜¯å¦åŒæ­¥
            if (Math.random() < 0.95) {
                this.entangledValueB = value;
            }
        },
        
        handleEntangledInputB(value) {
            this.entangledValueB = value;
            
            // æ ¹æ®é‡å­çº ç¼ å¼ºåº¦å†³å®šæ˜¯å¦åŒæ­¥
            if (Math.random() < 0.95) {
                this.entangledValueA = value;
            }
        }
    },
    
    beforeDestroy() {
        // æ¸…ç†é‡å­çº ç¼ 
        window.quantumEntangle.removeObject('input-demo-container');
    }
} 