# QEntL Runtime Configuration
# QEntL运行时系统配置文件
# 版本：1.0.0
# 格式：TOML-like配置格式

[system]
# 系统基本配置
version = "1.0.0"
build_date = "2024-01-01"
safe_mode = false
debug_mode = false
recovery_mode = false

[memory]
# 内存管理配置
heap_size_mb = 128          # 堆内存大小（MB）
gc_threshold = 70           # 垃圾回收触发阈值（%）
gc_frequency = 5000         # 垃圾回收检查频率（毫秒）
stack_size_kb = 1024        # 默认栈大小（KB）
max_heap_size_mb = 512      # 最大堆大小（MB）

[process]
# 进程管理配置
max_processes = 1024        # 最大进程数
default_time_slice = 10     # 默认时间片（毫秒）
scheduler_algorithm = "RoundRobin"  # 调度算法：RoundRobin, Priority, FCFS
context_switch_overhead = 1 # 上下文切换开销（毫秒）

[quantum]
# 量子系统配置
num_qubits = 32            # 量子比特数量
simulation_mode = true      # 是否使用量子模拟
quantum_precision = 1e-10   # 量子计算精度
decoherence_time = 1000     # 退相干时间（微秒）
error_correction = true     # 是否启用量子纠错

[filesystem]
# 文件系统配置
block_size = 4096          # 块大小（字节）
max_file_size_mb = 1024    # 最大文件大小（MB）
max_files = 10000          # 最大文件数
cache_size_mb = 64         # 文件缓存大小（MB）
auto_backup = true         # 自动备份
backup_interval = 3600     # 备份间隔（秒）

[network]
# 网络配置
enabled = true             # 是否启用网络
default_port = 8080        # 默认端口
max_connections = 100      # 最大连接数
connection_timeout = 30    # 连接超时（秒）
buffer_size_kb = 64       # 网络缓冲区大小（KB）
quantum_encryption = true  # 是否启用量子加密

[logging]
# 日志配置
default_level = "INFO"     # 默认日志级别：TRACE, DEBUG, INFO, WARN, ERROR, FATAL, QUANTUM
console_enabled = true     # 控制台输出
file_enabled = true        # 文件输出
network_enabled = false    # 网络输出
quantum_enabled = true     # 量子状态输出
max_log_size_mb = 10      # 最大日志文件大小（MB）
backup_count = 5          # 日志备份数量
flush_interval = 1000     # 刷新间隔（毫秒）

[services]
# 系统服务配置
auto_start = true         # 自动启动服务
startup_timeout = 30      # 启动超时（秒）
service_check_interval = 5 # 服务检查间隔（秒）

# 服务列表
[services.kernel]
enabled = true
priority = "CRITICAL"
startup_type = "auto"
dependencies = []

[services.quantum]
enabled = true
priority = "HIGH"
startup_type = "auto"
dependencies = ["kernel", "memory"]

[services.network]
enabled = true
priority = "NORMAL"
startup_type = "auto"
dependencies = ["kernel"]

[services.filesystem]
enabled = true
priority = "HIGH"
startup_type = "auto"
dependencies = ["kernel", "memory"]

[hardware]
# 硬件检测和配置
auto_detect = true        # 自动检测硬件
cpu_cores = 0            # CPU核心数（0=自动检测）
memory_mb = 0            # 内存大小（0=自动检测）
quantum_hardware = false  # 是否有量子硬件
network_interfaces = []   # 网络接口列表

[security]
# 安全配置
quantum_signatures = true # 量子签名验证
memory_protection = true  # 内存保护
process_isolation = true  # 进程隔离
secure_boot = false      # 安全启动
encryption_level = "AES256" # 加密级别

[performance]
# 性能配置
optimization_level = "O2" # 优化级别：O0, O1, O2, O3
parallel_execution = true # 并行执行
cache_optimization = true # 缓存优化
quantum_acceleration = true # 量子加速

[debug]
# 调试配置
stack_trace = true       # 栈跟踪
memory_leak_detection = true # 内存泄漏检测
performance_profiling = false # 性能分析
quantum_state_logging = false # 量子状态日志
verbose_output = false   # 详细输出

[paths]
# 路径配置
system_root = "/System"
user_root = "/Users"
program_root = "/Programs"
data_root = "/Data"
temp_root = "/Temp"
log_dir = "/System/Logs"
config_dir = "/System/Config"

[modules]
# 模块配置
preload_modules = [
    "quantum_logger",
    "memory_manager", 
    "kernel_loader",
    "process_manager",
    "filesystem_manager",
    "quantum_runtime",
    "system_services"
]

lazy_load_modules = [
    "network_manager"
]

[bootstrap]
# 引导配置
timeout_seconds = 60     # 引导超时
retry_count = 3          # 重试次数
safe_mode_fallback = true # 安全模式后备
progress_updates = true   # 进度更新
detailed_logging = true   # 详细日志

# 引导阶段超时配置
[bootstrap.timeouts]
init = 5                 # 初始化阶段超时（秒）
memory_setup = 10        # 内存设置超时
kernel_load = 15         # 内核加载超时
quantum_init = 20        # 量子初始化超时
services_start = 30      # 服务启动超时
filesystem_mount = 10    # 文件系统挂载超时
network_start = 15       # 网络启动超时
user_ready = 5          # 用户环境准备超时

[compatibility]
# 兼容性配置
windows_support = true
linux_support = false
macos_support = false
legacy_mode = false

[experimental]
# 实验性功能
quantum_entanglement_network = false # 量子纠缠网络
quantum_error_correction = false     # 量子纠错
distributed_quantum_computing = false # 分布式量子计算
neural_quantum_interface = false     # 神经量子接口
temporal_quantum_processing = false  # 时间量子处理
