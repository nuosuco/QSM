# QSM统一导航栏和底部栏使用指南

## 概述

本文档详细介绍了QSM、WeQ、SOM和Ref四个子系统的统一导航栏和底部栏的开发与使用方法。统一的导航栏和底部栏确保了用户在不同子系统间切换时能够保持一致的UI体验，同时保留各子系统的特色。

## 特性

- 响应式设计，适配各种屏幕尺寸
- 根据当前系统自动切换主题颜色
- 支持跨系统导航和状态同步
- 集成量子态阵图，提供九种多模态交互方式
- 统一的公告显示区域
- 各子系统Logo和标语的统一展示

## 快速集成

将统一导航栏和底部栏集成到新页面中只需简单的两个步骤：

1. 在HTML文件的`<body>`标签开始处包含导航栏模板：

```html
<%- include('/QSM/templates/shared/navigation.html') %>
```

2. 在HTML文件的`<body>`标签结束前包含底部栏模板：

```html
<%- include('/QSM/templates/shared/footer.html') %>
```

## 导航栏结构

### 组件
- **系统Logo**: 根据当前系统自动显示相应的Logo
- **系统标题与标语**: 根据当前系统显示不同的标题和标语
- **导航链接**: 提供四个子系统和开发者中心的链接
- **公告区**: 滚动显示系统公告
- **量子态阵图**: 点击后展开九种多模态交互选项

### CSS类与ID

主要CSS类与ID说明：

| 类/ID名称 | 说明 |
|---------|------|
| `.nav-bar` | 导航栏主容器 |
| `.nav-container` | 导航栏内容容器，限制最大宽度 |
| `.nav-logo-section` | 左侧Logo和标题区域 |
| `.system-logo` | 系统Logo容器 |
| `.system-title-section` | 系统标题和标语容器 |
| `.nav-links` | 导航链接区域 |
| `.nav-interaction-section` | 右侧公告和量子态阵图区域 |
| `#navQuantumScene` | 量子态阵图按钮 |

## 底部栏结构

### 组件
- **系统Logo展示区**: 展示四个子系统的Logo和标语
- **导航链接区**: 分组展示各类导航链接
- **社交媒体链接**: 提供社交媒体入口
- **二维码区**: 显示微信公众号和社区二维码
- **版权和备案信息**: 展示版权和ICP备案信息

### CSS类与ID

主要CSS类与ID说明：

| 类/ID名称 | 说明 |
|---------|------|
| `.footer` | 底部栏主容器 |
| `.footer-container` | 底部栏内容容器，限制最大宽度 |
| `.footer-logos` | 顶部Logo展示区 |
| `.logo-item` | 单个Logo项容器 |
| `.footer-links` | 底部导航链接区 |
| `.footer-link-group` | 底部导航链接分组 |
| `.footer-social` | 社交媒体链接区 |
| `.footer-qr` | 二维码区域 |
| `.footer-bottom` | 版权和备案信息区域 |

## 主题定制

每个系统都有独特的主题颜色和样式，通过在`<body>`标签上添加特定类名来应用：

- QSM系统: `qsm-theme`
- WeQ系统: `weq-theme`
- SOM系统: `som-theme`
- Ref系统: `ref-theme`

示例：
```html
<body class="qsm-theme">
  <%- include('/QSM/templates/shared/navigation.html') %>
  <!-- 页面内容 -->
  <%- include('/QSM/templates/shared/footer.html') %>
</body>
```

统一导航模板会自动根据当前URL检测系统并应用相应主题样式。

## 量子态阵图

量子态阵图是统一导航栏的特色功能，点击后弹出多模态交互面板，提供以下交互方式：

1. 点击交互
2. 注视交互
3. 语音交互
4. 运动交互
5. 文字交互
6. 图片交互
7. 视频交互
8. 脑波交互
9. 附件交互

## 响应式设计

统一导航栏和底部栏采用响应式设计，在不同屏幕尺寸下自动调整布局：

- **桌面端** (>768px): 完整显示所有元素
- **平板端** (768px~576px): 隐藏公告栏，缩小Logo和标题
- **移动端** (<576px): 使用汉堡菜单替代导航链接，底部栏Logo区域改为纵向排列

## 数据同步机制

在不同系统间切换时，会自动同步用户状态和偏好设置，确保用户体验的连贯性。同步机制采用以下方法：

1. **localStorage同步**: 用户偏好设置和交互历史
2. **WebSocket实时同步**: 量子态阵图状态
3. **API状态同步**: 用户登录状态和权限

## 开发者注意事项

1. 确保引入了正确的CSS和JS文件
2. 不要修改导航栏和底部栏的基本HTML结构
3. 可以通过CSS覆盖特定样式，但建议保持风格一致性
4. 若需添加新的导航链接，请与所有系统保持同步
5. 量子态阵图功能依赖于`navigation.js`中的交互处理函数

## 常见问题

**Q: 如何更改系统特定的公告内容？**
A: 修改`navigation.js`中的`initAnnouncements`函数内相应系统的公告文本。

**Q: 如何添加新的导航链接？**
A: 在`navigation.html`的`.nav-links`区域添加新的链接元素，确保添加适当的`data-system`属性。

**Q: 底部栏二维码如何更新？**
A: 更新`footer.html`中`.qr-image`元素的背景图片或内容。

## 更新日志

- **v1.0.0** (2025-04-02): 首次发布
  - 实现QSM、WeQ、SOM、Ref四系统的统一导航栏
  - 添加九种多模态交互的量子态阵图
  - 实现响应式设计和主题切换

## 联系与支持

如有任何问题或建议，请联系QSM开发团队：

- 邮箱: dev@qsm-project.com
- 开发者论坛: https://forum.qsm-project.com 

```
```
量子基因编码: QE-UNI-F6C51DFB05AD
纠缠状态: 活跃
纠缠对象: ['Ref/ref_core.py']
纠缠强度: 0.98
``````

// 开发团队：中华 ZhoHo ，Claude 
